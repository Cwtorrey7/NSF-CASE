WannaCry used the previously undisclosed EternalBlue vulnerability
(CVE-2017-0144), which takes advantage of SMBv1 mishandling specially crafted
packets, allowing for remote code execution.
A backdoor implant tool known as DoublePulsar is also used. The tool is able to
run in system memory, allowing it to stealthily install malware on the host.
Both EternalBlue and DoublePulsar were believed to be originally developed by
the NSA, and later stolen by the hacking group known as The Shadow Brokers,
meaning they were not publicly known. Such vulnerabilities are called “Zero Days”,
referring to the amount of days the vulnerability's existence has been known. Since
previously unknown, security professionals have to begin developing patches the same
day of release.